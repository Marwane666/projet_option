<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Chart.js Heatmap Example</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-matrix"></script>
  </head>
  <body>
    <canvas id="myChart" width="400" height="400"></canvas>
    <script>
      const ctx = document.getElementById("myChart").getContext("2d");

      const data = {
        datasets: [
          {
            label: "Heatmap",
            data: [
              { x: 1, y: 1, v: 10 },
              { x: 1, y: 2, v: 20 },
              { x: 2, y: 1, v: 30 },
              { x: 2, y: 2, v: 40 },
            ],
            backgroundColor: (ctx) => {
              const value = ctx.dataset.data[ctx.dataIndex].v;
              return `rgba(255, ${255 - value}, 0, 0.8)`;
            },
          },
        ],
      };

      new Chart(ctx, {
        type: "matrix",
        data,
        options: {
          scales: {
            x: { type: "linear", position: "bottom" },
            y: { type: "linear", position: "left" },
          },
        },
      });
    </script>
  </body>
</html>
